# UI/UX設計

## 画面構成

### 全体レイアウト

```
┌─────────────────────────────────────────────────────────────┐
│  ヘッダー                                                    │
│  ┌─────────────┐                    ┌──────────────────────┐│
│  │ tokutan     │                    │ インポート │ エクスポート ││
│  │ 卒業要件    │                    └──────────────────────┘│
│  │ チェッカー  │                                             │
│  └─────────────┘                                             │
├─────────────────────────────────────────────────────────────┤
│  タブナビゲーション                                          │
│  ┌────────────────────┐  ┌────────────────────┐              │
│  │  卒業要件チェック   │  │    履修管理        │              │
│  └────────────────────┘  └────────────────────┘              │
├─────────────────────────────────────────────────────────────┤
│                                                              │
│  メインコンテンツエリア                                      │
│                                                              │
│                                                              │
│                                                              │
│                                                              │
│                                                              │
└─────────────────────────────────────────────────────────────┘
```

## タブ1: 卒業要件チェック

### 初期状態（データなし）

```
┌─────────────────────────────────────────────────────────────┐
│                                                              │
│     ┌─────────────────────────────────────────────────┐      │
│     │                                                 │      │
│     │    📂 TWINSの成績データをアップロード           │      │
│     │                                                 │      │
│     │    CSVファイルをドラッグ&ドロップ               │      │
│     │    または クリックしてファイルを選択            │      │
│     │                                                 │      │
│     └─────────────────────────────────────────────────┘      │
│                                                              │
│     ───────────────── または ─────────────────               │
│                                                              │
│     [ 保存されたデータを読み込む ]                           │
│                                                              │
└─────────────────────────────────────────────────────────────┘
```

### データ読み込み後

```
┌─────────────────────────────────────────────────────────────┐
│  サマリーカード                                              │
│  ┌──────────────────┐  ┌──────────────────┐                  │
│  │ 卒業判定          │  │ 取得単位         │                  │
│  │                   │  │                  │                  │
│  │    ✅ 可能        │  │   98 / 125      │                  │
│  │    (あと27単位)   │  │     単位        │                  │
│  │                   │  │                  │                  │
│  └──────────────────┘  └──────────────────┘                  │
├─────────────────────────────────────────────────────────────┤
│  進捗チャート                                                │
│  ┌──────────────────────────────────────────────────────┐   │
│  │                                                       │   │
│  │      ┌──────────┐                                     │   │
│  │    ╱            ╲    専門: 45/65                     │   │
│  │   │              │   専門基礎: 31/31                 │   │
│  │   │    78.4%     │   共通: 12/13                     │   │
│  │   │              │   基礎: 10/15                     │   │
│  │    ╲            ╱                                     │   │
│  │      └──────────┘                                     │   │
│  │                                                       │   │
│  └──────────────────────────────────────────────────────┘   │
├─────────────────────────────────────────────────────────────┤
│  詳細要件一覧                                                │
│  ┌──────────────────────────────────────────────────────┐   │
│  │ ▼ 専門科目 (45/65単位)                          🟡    │   │
│  │   ├─ ✅ 必修科目 (25/25単位)                        │   │
│  │   │    ✅ プログラミング序論C (2単位) - A+          │   │
│  │   │    ✅ プログラミング序論D (1単位) - A           │   │
│  │   │    ...                                           │   │
│  │   └─ 🟡 選択科目 (20/40〜49単位)                     │   │
│  │        ✅ 論理回路 (2単位) - A+                      │   │
│  │        ...                                           │   │
│  │                                                       │   │
│  │ ▼ 専門基礎科目 (31/31単位)                      ✅    │   │
│  │   └─ ✅ 必修科目 (31/31単位)                        │   │
│  │        ✅ 数学リテラシー1 (1単位) - A+               │   │
│  │        ...                                           │   │
│  │                                                       │   │
│  │ ▶ 共通科目 (12/13単位)                          🟡    │   │
│  │                                                       │   │
│  │ ▶ 基礎科目 (10/15単位)                          🟡    │   │
│  └──────────────────────────────────────────────────────┘   │
└─────────────────────────────────────────────────────────────┘
```

### 要件編集モード

```
┌─────────────────────────────────────────────────────────────┐
│  卒業要件設定                              [ 保存 ] [ 取消 ] │
├─────────────────────────────────────────────────────────────┤
│  ┌──────────────────────────────────────────────────────┐   │
│  │ 基本情報                                              │   │
│  │ ┌────────────────┐  ┌────────────────┐                │   │
│  │ │ 要件名          │  │ 2024年入学      │                │   │
│  │ │ 工学システム学類│  │ 総単位数: [125] │                │   │
│  │ └────────────────┘  └────────────────┘                │   │
│  └──────────────────────────────────────────────────────┘   │
│                                                              │
│  ┌──────────────────────────────────────────────────────┐   │
│  │ カテゴリ一覧                           [ + カテゴリ ]  │   │
│  │ ┌────────────────────────────────────────────────────┐│   │
│  │ │ 専門科目                              [ 編集 ] [🗑] ││   │
│  │ │ ├─ 必修科目 (25単位)                 [ 編集 ] [🗑] ││   │
│  │ │ │   ├─ プログラミング序論C          [ 編集 ] [🗑] ││   │
│  │ │ │   │   科目番号: FG20204                          ││   │
│  │ │ │   ├─ プログラミング序論D          [ 編集 ] [🗑] ││   │
│  │ │ │   │   科目番号: FG20214                          ││   │
│  │ │ │   └─ [ + 科目を追加 ]                            ││   │
│  │ │ └─ 選択科目 (40〜49単位)            [ 編集 ] [🗑] ││   │
│  │ │     └─ パターン: ^FG                               ││   │
│  │ └────────────────────────────────────────────────────┘│   │
│  └──────────────────────────────────────────────────────┘   │
│                                                              │
│  [ 要件をJSONでインポート ]  [ 要件をJSONでエクスポート ]   │
└─────────────────────────────────────────────────────────────┘
```

## タブ2: 履修管理

### 4年間ビュー

```
┌─────────────────────────────────────────────────────────────┐
│  履修管理                         [ TWINSデータを同期 ]      │
├─────────────────────────────────────────────────────────────┤
│  年度選択: [ 2024 ▼]  [ 2025 ▼]  [ 2026 ▼]  [ 2027 ▼]       │
├─────────────────────────────────────────────────────────────┤
│  ┌────────────────────────┐  ┌────────────────────────┐     │
│  │ 2024年度 春学期         │  │ 2024年度 秋学期         │     │
│  │ 取得: 18単位            │  │ 取得: 16単位            │     │
│  ├────────────────────────┤  ├────────────────────────┤     │
│  │ ✅ 数学リテラシー1 1単位│  │ ✅ 線形代数2    1単位  │     │
│  │    A+ ██████████        │  │    A+ ██████████       │     │
│  │ ✅ 数学リテラシー2 1単位│  │ ✅ 微積分2      1単位  │     │
│  │    A+ ██████████        │  │    A+ ██████████       │     │
│  │ ✅ 線形代数1    1単位   │  │ ✅ 微積分3      1単位  │     │
│  │    A+ ██████████        │  │    A+ ██████████       │     │
│  │ ✅ 微積分1      1単位   │  │ ✅ 力学3        1単位  │     │
│  │    B  ████████          │  │    A+ ██████████       │     │
│  │ ...                     │  │ ...                    │     │
│  │                         │  │                        │     │
│  │ [ + 科目を追加 ]        │  │ [ + 科目を追加 ]       │     │
│  └────────────────────────┘  └────────────────────────┘     │
│                                                              │
│  ┌────────────────────────┐  ┌────────────────────────┐     │
│  │ 2025年度 春学期         │  │ 2025年度 秋学期         │     │
│  │ 履修中: 21単位          │  │ 計画: 0単位             │     │
│  ├────────────────────────┤  ├────────────────────────┤     │
│  │ 🔵 線形代数総論B 2単位  │  │                        │     │
│  │    履修中               │  │ [ + 科目を追加 ]       │     │
│  │ 🔵 複素解析      2単位  │  │                        │     │
│  │    履修中               │  │                        │     │
│  │ ...                     │  │                        │     │
│  └────────────────────────┘  └────────────────────────┘     │
└─────────────────────────────────────────────────────────────┘
```

### 科目追加ダイアログ

```
┌─────────────────────────────────────────────────────────────┐
│  科目を追加                                          [ × ]  │
├─────────────────────────────────────────────────────────────┤
│  ┌─────────────────────────────────────────────────────┐    │
│  │ 🔍 科目番号または科目名で検索...                   │    │
│  └─────────────────────────────────────────────────────┘    │
│                                                              │
│  検索結果:                                                   │
│  ┌─────────────────────────────────────────────────────┐    │
│  │ FG10784 複素解析                          2.0単位   │    │
│  │ 秋AB 水3,4                                [ 追加 ]  │    │
│  ├─────────────────────────────────────────────────────┤    │
│  │ FG10764 常微分方程式                      2.0単位   │    │
│  │ 春AB 火3,4                                [ 追加 ]  │    │
│  ├─────────────────────────────────────────────────────┤    │
│  │ FG10744 解析学総論                        1.0単位   │    │
│  │ 春A 月4                                   [ 追加 ]  │    │
│  └─────────────────────────────────────────────────────┘    │
│                                                              │
│  または手動で追加:                                           │
│  ┌──────────────┐ ┌──────────────────────┐ ┌───────┐       │
│  │ 科目番号      │ │ 科目名                │ │ 単位  │       │
│  │ [          ] │ │ [                   ] │ │ [  ] │       │
│  └──────────────┘ └──────────────────────┘ └───────┘       │
│                                                     [ 追加 ] │
└─────────────────────────────────────────────────────────────┘
```

## 共通コンポーネント

### ヘッダー

```typescript
// components/Header.tsx
- ロゴ/タイトル
- データインポートボタン
- データエクスポートボタン
- 設定ボタン（テーマ切替など）
```

### タブナビゲーション

```typescript
// components/TabNavigation.tsx
- 卒業要件チェックタブ
- 履修管理タブ
- アクティブ状態のスタイリング
```

### ドーナツチャート

```typescript
// components/DonutChart.tsx
- カテゴリごとの色分け
- 中央に総合進捗率
- ホバー時の詳細表示
- アニメーション付き
```

### 要件ツリー

```typescript
// components/RequirementTree.tsx
- 折りたたみ可能なツリー構造
- 充足/未充足のアイコン
- 科目詳細のポップオーバー
```

### CSVアップローダー

```typescript
// components/CsvUploader.tsx
- ドラッグ&ドロップ対応
- ファイル選択ダイアログ
- アップロード進捗表示
- エラーハンドリング
```

### 科目カード

```typescript
// components/CourseCard.tsx
- 科目名、単位数表示
- 成績のカラーコード
- ステータス（履修中、計画、完了）
- 削除/編集ボタン
```

## SolidUIコンポーネント使用計画

以下のSolidUIコンポーネントを使用:

1. **Button** - 各種ボタン
2. **Card** - カード型レイアウト
3. **Tabs** - タブナビゲーション
4. **Dialog** - モーダルダイアログ
5. **Input** - テキスト入力
6. **Select** - ドロップダウン選択
7. **Progress** - 進捗バー
8. **Badge** - ステータスバッジ
9. **Accordion** - 折りたたみリスト
10. **Tooltip** - ツールチップ
11. **Toast** - 通知メッセージ
12. **Separator** - 区切り線
13. **Label** - ラベル

## カラースキーム

```css
/* 成績カラー */
--grade-a-plus: #22c55e;  /* 緑 */
--grade-a: #84cc16;       /* ライム */
--grade-b: #eab308;       /* 黄色 */
--grade-c: #f97316;       /* オレンジ */
--grade-d: #ef4444;       /* 赤 */
--grade-p: #8b5cf6;       /* 紫 */
--grade-in-progress: #3b82f6; /* 青 */

/* ステータスカラー */
--status-satisfied: #22c55e;
--status-partial: #eab308;
--status-unsatisfied: #ef4444;

/* カテゴリカラー（チャート用） */
--category-specialized: #3b82f6;
--category-foundation: #8b5cf6;
--category-common: #22c55e;
--category-basic: #f97316;
```

## レスポンシブデザイン

- **デスクトップ** (1024px以上): 2カラムレイアウト
- **タブレット** (768px〜1023px): 2カラム（狭め）
- **モバイル** (767px以下): 1カラム、スタック表示
